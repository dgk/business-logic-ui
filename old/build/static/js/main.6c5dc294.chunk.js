(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(16),i=n.n(r),o=n(6),c=n(169),l=n(28),s=n.n(l),u=n(171),m=n(170),d=n(168),f=n(29),g=n(7),p=n(44),v=n.n(p),E=function(e){return v()(e).format("DD.MM.YYYY HH:mm:ss")},h=n(167),b=function(e){var t=e.date,n=e.title,r=e.location;return a.createElement("div",{className:"item"},a.createElement("i",{className:"folder open middle aligned icon color_blue"}),a.createElement("div",{className:"content"},a.createElement(h.a,{to:r},n),a.createElement("div",{className:"description"}),a.createElement("div",{className:"description"},a.createElement("b",null,"Updated:")," ",a.createElement("i",null,t))))},N=Object(g.a)(Object(o.b)("interfaceStore"),Object(g.c)({componentDidMount:function(){this.props.interfaceStore.fetch()}}),o.c)(function(e){var t=e.interfaceStore.data,n=void 0===t?[]:t;return a.createElement("div",{className:"ui relaxed divided list"},n.map(function(e){var t=e.id,n=e.modification_time,r=e.title;return a.createElement(b,{key:t,title:r,date:E(n),location:{pathname:"/interface/".concat(t,"/program")}})}))}),S=function(e){var t=e.date,n=e.title,r=e.time;return a.createElement("div",{className:"item"},a.createElement("i",{className:"asterisk middle aligned icon color_blue"}),a.createElement("div",{className:"content"},a.createElement(h.a,{to:{pathname:"/execution/".concat(n)}},n),a.createElement("div",{className:"description"}),a.createElement("div",{className:"description"},a.createElement("b",null,"Launched: "),a.createElement("i",null,t," "),a.createElement("b",null,"run time: "),a.createElement("i",{className:"color_blue"},r))))},O=Object(g.a)(Object(o.b)("executionStore"),Object(g.c)({componentDidMount:function(){this.props.executionStore.fetch()}}),o.c)(function(e){var t=e.executionStore.data,n=void 0===t?[]:t;return a.createElement("div",{className:"ui relaxed divided list"},n.map(function(e){var t=e.id,n=e.start_time,r=(e.title,e.finish_time);return a.createElement(S,{key:t,title:t.toString(),date:E(n),time:function(e){var t=e.start,n=e.finish;return v()(n).diff(v()(t))}({start:n,finish:r})/1e3})}))}),F=function(e){var t=e.children,n=e.className,r=e.title;return a.createElement("div",{className:"card",style:{cursor:"pointer",margin:20}},a.createElement("div",{className:"content"},a.createElement("div",{className:"header"},a.createElement("i",{className:n}),r),a.createElement("div",{className:"meta"}),a.createElement("div",{className:"description"},t)))};function y(){var e=s()(["\n  display: flex\n"]);return y=function(){return e},e}var x=f.a.div(y()),j=Object(o.c)(function(){return a.createElement(x,null,a.createElement(h.a,{to:{pathname:"/interface"}},a.createElement("div",{className:"ui cards"},a.createElement(F,{className:"folder open icon",title:"Interfaces"},"List of program interfaces."))),a.createElement(h.a,{to:{pathname:"/execution"}},a.createElement("div",{className:"ui cards"},a.createElement(F,{className:"lightning icon",title:"Execution"},"List of calculation logs."))))}),_=n(14),k=n.n(_),D=n(90),L=n.n(D)()(),w=n(91),M=n.n(w),J=function(e){var t=e.children,n=e.active;return a.createElement("span",{className:M()("section",{active:n})},t)},P=function(e){var t=e.active,n=e.children,r=e.link;return a.createElement(h.a,{to:r},a.createElement(J,{active:t}," ",n," "))};function q(){var e=s()(["\n  padding-top: 15px;\n  padding-left: 10px;\n"]);return q=function(){return e},e}var B=f.a.div(q()),I=Object(g.a)(Object(o.b)("router"),Object(g.b)({initLocation:{program:"Book",version:"Book view"}}),Object(g.d)({getLocation:function(e){var t=e.router;return function(){L.listen(function(e){localStorage.setItem("backLocation",e.pathname),t.setLocation(e.pathname)})}},getNavigation:function(e){var t=e.router.location;return function(){return k.a.filter(t.split("/"),function(e){return e!==Boolean&&isNaN(e)})}},getCustomPath:function(e){e.finallyLocation;var t=e.router.location;return function(e){var n=t.split("/");if(e&&!isNaN(n[n.length-1]))return"blockly"}}}),Object(g.c)({componentDidMount:function(){var e=localStorage.getItem("backLocation")||"/";this.props.router.location!==e&&this.props.router.setLocation(e)},componentWillUnmount:function(){localStorage.removeItem("backLocation")}}),o.c)(function(e){var t=e.initLocation,n=e.router.location,r=e.getLocation,i=(e.finallyLocation,e.getNavigation),o=e.getCustomPath;r();var c=i(),l=c[c.length-1],s=o(l);return s&&c.push(s),a.createElement(B,null,a.createElement("div",{className:"ui breadcrumb"},a.createElement(a.Fragment,null,a.createElement(P,{link:"/",active:!c.length},"Home"),a.createElement("div",{className:"divider"}," /"),c.map(function(e){var r=e===l&&!s||e===s,i=t[e]||e,o=n.split("/"),c=o.indexOf(e),u=o.splice(1,c).join("/");return a.createElement(a.Fragment,{key:e},a.createElement(P,{link:"/".concat(u),active:r},i),a.createElement("div",{className:"divider"}," /"))}))))}),R=function(e){return a.createElement("div",null,"Blockly")},T=Object(g.a)(Object(o.b)("programStore"),Object(g.c)({componentDidMount:function(){this.props.programStore.fetch()}}),o.c)(function(e){var t=e.programStore.data,n=void 0===t?[]:t;return a.createElement("div",{className:"ui relaxed divided list"},n.map(function(e){var t=e.id,n=e.modification_time,r=e.title;return a.createElement(b,{key:t,title:r,date:E(n),location:{pathname:"".concat(L.location.pathname,"/").concat(t,"/version")}})}))}),Y=function(e){var t=e.title,n=e.location,r=e.description;return a.createElement("div",{className:"item"},a.createElement("i",{className:"file text middle aligned icon color_blue"}),a.createElement("div",{className:"content"},a.createElement(h.a,{to:n},t),a.createElement("div",{className:"description"},r)))},H=Object(g.a)(Object(o.b)("versionStore"),Object(g.c)({componentDidMount:function(){this.props.versionStore.fetch()}}),o.c)(function(e){var t=e.versionStore.data,n=void 0===t?[]:t;return a.createElement("div",{className:"ui relaxed divided list"},n.map(function(e){var t=e.id,n=e.description,r=e.title;return a.createElement(Y,{key:t,title:r,description:n,location:{pathname:"".concat(L.location.pathname,"/").concat(t)}})}))});function C(){var e=s()(["\n  padding-left: 10px;\n  padding-top: 15px;\n"]);return C=function(){return e},e}var U=f.a.div(C()),W=function(){return a.createElement(a.Fragment,null,a.createElement(I,null),a.createElement(U,null,a.createElement(u.a,null,a.createElement(m.a,{path:"/",exact:!0,to:"/",component:j}),a.createElement(m.a,{path:"/interface/:id/program/:id/version/:id",component:R}),a.createElement(m.a,{path:"/interface/:id/program/:id/version",component:H}),a.createElement(m.a,{path:"/interface/:id/program",component:T}),a.createElement(m.a,{path:"/execution/:id",component:R}),a.createElement(m.a,{path:"/interface/:id",component:R}),a.createElement(m.a,{path:"/interface",component:N}),a.createElement(m.a,{path:"/execution",component:O}),a.createElement(d.a,{from:"*",to:"/"}))))},z=n(2),A=n(92),G=n.n(A),K=function(e){var t=e.url,n=e.config,a=e.onRequest,r=e.onSuccess,i=e.onError;return a(),Q(t,n).then(function(e){return r(e)}).catch(function(e){return i(e.toString())})},Q=function(e,t){return G.a.get(e,Object.assign({},{crossDomain:!0},t))},V="http://django-business-logic.dgk.su",X=z.a.model({code:z.a.union(z.a.string,z.a.null),creation_time:z.a.string,environment:z.a.number,id:z.a.number,modification_time:z.a.string,title:z.a.string,url:z.a.string}),Z=z.a.model("Store",{isFetching:z.a.boolean,error:z.a.null,data:z.a.optional(z.a.array(X),[])}).actions(function(e){return{setData:function(t){e.data=t},setFetching:function(t){e.isFetching=t},setError:function(t){e.error=t},fetch:function(){var t="".concat(V,"/business-logic/rest/program-interface"),n={method:"POST",body:JSON.stringify({})};K({url:t,config:n,onRequest:function(){return e.setFetching(!0)},onSuccess:function(t){return e.setData(k.a.get(t,"data.results",[]))},onError:function(t){e.setFetching(!1),e.setError(t)}})}}}).create({isFetching:!1,error:null,data:[]}),$=z.a.model({id:z.a.number,start_time:z.a.string,finish_time:z.a.string,program_version:z.a.number}),ee=z.a.model("Store",{isFetching:z.a.boolean,error:z.a.null,data:z.a.optional(z.a.array($),[])}).actions(function(e){return{setData:function(t){e.data=t},setFetching:function(t){e.isFetching=t},setError:function(t){e.error=t},fetch:function(){var t="".concat(V,"/business-logic/rest/execution"),n={method:"POST",body:JSON.stringify({})};K({url:t,config:n,onRequest:function(){return e.setFetching(!0)},onSuccess:function(t){return e.setData(k.a.get(t,"data.results",[]))},onError:function(t){e.setFetching(!1),e.setError(t)}})}}}).create({isFetching:!1,error:null,data:[]}),te=z.a.model("Store",{location:z.a.string}).actions(function(e){return{setLocation:function(t){e.location=t}}}).create({location:"/"}),ne=z.a.model({id:z.a.number,code:z.a.string,creation_time:z.a.string,environment:z.a.null,modification_time:z.a.string,program_interface:z.a.number,title:z.a.string,url:z.a.string}),ae=z.a.model("Store",{isFetching:z.a.boolean,error:z.a.null,data:z.a.optional(z.a.array(ne),[])}).actions(function(e){return{setData:function(t){e.data=t},setFetching:function(t){e.isFetching=t},setError:function(t){e.error=t},fetch:function(){var t="".concat(V,"/business-logic/rest/program?program_interface=1"),n={method:"POST",body:JSON.stringify({})};K({url:t,config:n,onRequest:function(){return e.setFetching(!0)},onSuccess:function(t){return e.setData(k.a.get(t,"data.results",[]))},onError:function(t){e.setFetching(!1),e.setError(t)}})}}}).create({isFetching:!1,error:null,data:[]}),re=z.a.model({id:z.a.number,creation_time:z.a.string,environment:z.a.null,modification_time:z.a.string,title:z.a.string,url:z.a.string,description:z.a.string,is_default:z.a.boolean,program:z.a.number}),ie=z.a.model("Store",{isFetching:z.a.boolean,error:z.a.null,data:z.a.optional(z.a.array(re),[])}).actions(function(e){return{setData:function(t){e.data=t},setFetching:function(t){e.isFetching=t},setError:function(t){e.error=t},fetch:function(){var t="".concat(V,"/business-logic/rest/program-version?program=1"),n={method:"POST",body:JSON.stringify({})};K({url:t,config:n,onRequest:function(){return e.setFetching(!0)},onSuccess:function(t){return e.setData(k.a.get(t,"data.results",[]))},onError:function(t){e.setFetching(!1),e.setError(t)}})}}}).create({isFetching:!1,error:null,data:[]}),oe={};Object.assign(oe,{executionStore:ee,interfaceStore:Z,programStore:ae,router:te,versionStore:ie});var ce=oe,le=document.getElementById("root");le&&i.a.render(a.createElement(c.a,{history:L},a.createElement(o.a,ce,a.createElement(W,null))),le)},94:function(e,t,n){e.exports=n(166)}},[[94,2,1]]]);
//# sourceMappingURL=main.6c5dc294.chunk.js.map